<Page x:Class="ArcGISRuntime.Samples.Phone.Samples.Identify"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:esri="using:Esri.ArcGISRuntime.Controls"  
	  xmlns:layers="using:Esri.ArcGISRuntime.Layers"
	  xmlns:symb="using:Esri.ArcGISRuntime.Symbology">

	<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
		<Grid.Resources>
			<symb:SimpleMarkerSymbol x:Key="DefaultMarkerSymbol"
										Style="Circle"
										Size="14"
										Color="Red" />
			<symb:SimpleRenderer x:Key="SimpleRenderer"
									Symbol="{StaticResource DefaultMarkerSymbol}" />
		</Grid.Resources>
		<esri:MapView x:Name="MyMapView" MapViewTapped="MyMapView_MapViewTapped">
			<esri:Map >
				<layers:ArcGISTiledMapServiceLayer ID="StreetMapLayer"
											 ServiceUri="http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer" />
				<layers:GraphicsLayer ID="MyGraphicsLayer"
								Renderer="{StaticResource SimpleRenderer }" />
			</esri:Map>
		</esri:MapView>
		<Border Margin="20" HorizontalAlignment="Right" VerticalAlignment="Top" Background="#CC000000" Padding="20">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>
				<TextBlock Text="Click in the United States to identify features." FontSize="14" />
				<ComboBox x:Name="TitleComboBox" Grid.Row="1" SelectionChanged="TitleComboBox_SelectionChanged_1">
					<ComboBox.ItemTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding Title}" />
						</DataTemplate>
					</ComboBox.ItemTemplate>
				</ComboBox>
				<ProgressRing Grid.Row="2" x:Name="progress" Margin="5" />
				<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Row="3">
					<ItemsControl x:Name="ResultsGrid">
						<ItemsControl.ItemTemplate>
							<DataTemplate>
								<StackPanel Orientation="Horizontal">
									<TextBlock Text="{Binding Path=Key}" Loaded="KeyLoaded" Width="100"/>
									<TextBlock Text="{Binding Path=Value}" Loaded="ValueLoaded" />
								</StackPanel>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>
				</ScrollViewer>
			</Grid>
		</Border>
	</Grid>
</Page>
